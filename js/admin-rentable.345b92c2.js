(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin-rentable"],{2459:function(e,t,n){},"44d2":function(e,t,n){var r=n("b622"),a=n("7c73"),o=n("9bf2"),i=r("unscopables"),s=Array.prototype;void 0==s[i]&&o.f(s,i,{configurable:!0,value:a(null)}),e.exports=function(e){s[i][e]=!0}},"4e33":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("div",{staticClass:"head"},[n("div",{staticClass:"button",on:{click:function(t){return e.$router.go(-1)}}},[n("i",{staticClass:"fas fa-angle-double-left"})]),e.isCreate?n("div",{staticClass:"head-title"},[e._v("Boot anlegen")]):n("div",{staticClass:"head-title"},[e._v("Boot verwalten")]),n("div")]),n("div",{staticClass:"rentable"},[n("form-group",{attrs:{validator:e.$v.form.name,label:"Name"}},[n("b-input",{attrs:{placeholder:"Name"},model:{value:e.$v.form.name.$model,callback:function(t){e.$set(e.$v.form.name,"$model","string"===typeof t?t.trim():t)},expression:"$v.form.name.$model"}})],1),n("form-group",{attrs:{validator:e.$v.form.category,label:"Boots-Typ"}},[n("b-select",{attrs:{placeholder:"Boots-Typ auswählen ..."},model:{value:e.$v.form.category.$model,callback:function(t){e.$set(e.$v.form.category,"$model",t)},expression:"$v.form.category.$model"}},e._l(e.categories,(function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),0)],1),n("b-field",{attrs:{label:"Reservierungs Info",grouped:"","group-multiline":""}},[n("p",{staticClass:"control description"},[n("b-icon",{attrs:{pack:"fas",icon:"info",size:"is-small"}}),n("span",[e._v("Diese Information wird in der Boots-Liste beim Reservieren angezeigt.")])],1),n("b-input",{attrs:{maxlength:"50",expanded:"",placeholder:"Bsp: Genehmigung erforderlich"},model:{value:e.form.bookingInfo,callback:function(t){e.$set(e.form,"bookingInfo",t)},expression:"form.bookingInfo"}})],1),n("b-field",{attrs:{label:"Reservierungs Warnung",grouped:"","group-multiline":""}},[n("p",{staticClass:"control description"},[n("b-icon",{attrs:{pack:"fas",icon:"info",size:"is-small"}}),n("span",[e._v("Diese Warnung muss bei der Reservierung dieses Bootes bestätigt werden.")])],1),n("b-input",{attrs:{maxlength:"200",type:"textarea",expanded:"",placeholder:"Bsp: Du benötigst zum Fahren dieses Bootes eine Genehmigung der Ruderwartin"},model:{value:e.form.bookingAlert,callback:function(t){e.$set(e.form,"bookingAlert",t)},expression:"form.bookingAlert"}})],1),e.isCreate?n("b-button",{attrs:{disabled:e.$v.$invalid},on:{click:e.createRentable}},[e._v("Boot anlegen")]):n("b-button",{attrs:{disabled:e.$v.$invalid},on:{click:e.updateRentable}},[e._v("Boot speichern")])],1)])},a=[],o=(n("7db0"),n("b0c0"),n("ac1f"),n("5319"),n("0b38")),i=(n("df26"),n("42c2")),s=n("89a2"),l={name:"AdminRentable",data:function(){return{form:{name:null,category:null,bookingInfo:null,bookingAlert:null}}},validations:{form:{name:{required:s["required"]},category:{required:s["required"]}}},computed:{rentableId:function(){return this.$route.params.rentableId},isCreate:function(){return"admin-create-rentable"===this.$route.name},rentable:function(){var e=this;if(this.isCreate)return null;var t=this.$store.state.rental.rentables;return t?t.find((function(t){return t.id===e.rentableId})):null},categories:function(){return this.$store.state.rental.categories}},watch:{rentable:function(e){this.form={name:e.name,category:e.category,bookingInfo:e.bookingInfo,bookingAlert:e.bookingAlert}}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("rental/getCategories");case 2:if(e.isCreate){t.next=5;break}return t.next=5,e.loadRentables();case 5:case"end":return t.stop()}}),t)})))()},methods:{loadRentables:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("rental/getRentables");case 2:case"end":return t.stop()}}),t)})))()},createRentable:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(o["a"])({},e.form),t.next=3,e.$store.dispatch("rental/createRentable",n);case 3:r=t.sent,e.$buefy.toast.open({message:"Das neue Boot wurde erfolgreich angelegt",type:"is-success"}),e.$router.replace({name:"admin-rentable",params:{rentableId:r.id}});case 6:case"end":return t.stop()}}),t)})))()},updateRentable:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(o["a"])(Object(o["a"])({},e.form),{},{id:e.rentableId}),t.next=3,e.$store.dispatch("rental/updateRentable",n);case 3:return e.$buefy.toast.open({message:"Das Boot wurde erfolgreich aktualisiert",type:"is-success"}),t.next=6,e.loadRentables();case 6:case"end":return t.stop()}}),t)})))()}}},c=l,u=(n("e1a8"),n("2be6")),d=Object(u["a"])(c,r,a,!1,null,"4e9b65a9",null);t["default"]=d.exports},"7db0":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").find,o=n("44d2"),i=n("ae40"),s="find",l=!0,c=i(s);s in[]&&Array(1)[s]((function(){l=!1})),r({target:"Array",proto:!0,forced:l||!c},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},e1a8:function(e,t,n){"use strict";n("2459")}}]);
//# sourceMappingURL=admin-rentable.345b92c2.js.map